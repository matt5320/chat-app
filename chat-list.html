<div class="chat-list-container">
  <div class="chat-list-header">
    <h2>Chats</h2>
    <span
      class="material-symbols-outlined create"
      @click="createConversation()"
    >
      edit_square
    </span>
  </div>
  <graffiti-discover
    v-slot="{ objects, isInitialPolling }"
    :channels="[$graffitiSession.value?.actor]"
    :schema="{
      properties: {
        value: {
          required: ['activity', 'object'],
          properties: {
            activity: {type: 'string', const: 'Create'},
            object: {
              required: ['type'],
              properties: {
                type: { type: 'string', const: 'Conversation'}
              }
            }
          }
        }
      }
    }"
  >
    <chat v-for="obj of objects" :chat="obj"></chat>
  </graffiti-discover>
</div>
